!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OscappsAccordion=t():e.OscappsAccordion=t()}(this,function(){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p=".",__webpack_require__(__webpack_require__.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n(3),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".OscappsAccordion:not(.is-instance)"),t=[],n=!0,i=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var l=a.value;t.push(new o.default(l))}}catch(e){i=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw r}}}),t.default=o.default},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AJAX_LOAD_ERROR=t.AJAX_READ_MARK=t.AJAX_SPINNER=t.TOGGLE_OSCAPPS_ACCORDION_TAG_NAME=t.CONTENT_SECTION_SELECTOR=t.HEADER_SECTION_SELECTOR=t.MULTIPLE_SELECTION_CLASS_NAME=t.HIDE_ICON_CLASS_NAME=t.ACTIVE_CLASS_NAME=t.SECTION_CLASS_NAME=t.HEADER_CLASS_NAME=t.MAIN_CLASS_NAME=void 0;var i=function(){function sliceIterator(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r),c=t.MAIN_CLASS_NAME="OscappsAccordion",l=t.HEADER_CLASS_NAME="OscappsAccordion-header",s=t.SECTION_CLASS_NAME="OscappsAccordion-section",u=t.ACTIVE_CLASS_NAME="is-active",_=t.HIDE_ICON_CLASS_NAME="OscappsAccordion--hidden-icon",f=t.MULTIPLE_SELECTION_CLASS_NAME="is-multiple-selection",d=t.HEADER_SECTION_SELECTOR="."+c+" > dt, ."+c+" > ."+l,p=t.CONTENT_SECTION_SELECTOR="."+c+" > dd, ."+c+" > ."+s,h=t.TOGGLE_OSCAPPS_ACCORDION_TAG_NAME="DT",y=t.AJAX_SPINNER='<div class="OscappsSpinner"><div class="OscappsSpinner-ring"></div></div>',v=t.AJAX_READ_MARK="content-loaded",A=t.AJAX_LOAD_ERROR="Loading error",S=function(){function OscappsAccordion(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.arrowIcon,i=void 0===n||n,o=t.multipleSelection,r=void 0!==o&&o,l=t.ajaxContent,s=void 0!==l&&l,u=t.onOpen,_=void 0!==u&&u,d=t.animationTime,p=void 0!==d&&d;if(_classCallCheck(this,OscappsAccordion),!e||!a.default.isDomElement(e))return!1;this.OscappsAccordionElement=e,this.multipleSelection=r||a.default.hasClass(e,f),this.onOpen=_,this.ajaxContent=s,!i&&this._hideArrowIcon(),this._addClickEventDelegation(),this._initActiveSections(),a.default.hasClass(this.OscappsAccordionElement,c)||a.default.addClass(this.OscappsAccordionElement,c),p&&p>=0&&this._changeDefaultAnimationTime(p)}return o(OscappsAccordion,[{key:"_hideArrowIcon",value:function(){a.default.addClass(this.OscappsAccordionElement,_)}},{key:"_addClickEventDelegation",value:function(){var e=this;this.OscappsAccordionElement.addEventListener("click",function(t){e._isHeaderSection(t.target)&&e._toggle(t.target)})}},{key:"_isHeaderSection",value:function(e){return(e.tagName===h||a.default.hasClass(e,l))&&e.parentElement===this.OscappsAccordionElement}},{key:"_initActiveSections",value:function(){var e=this.OscappsAccordionElement.querySelectorAll("."+u),t=!0,n=!1,o=void 0;try{for(var r,c=e.entries()[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value,s=i(l,2),_=s[0],f=s[1];this.multipleSelection||0===_?this._showSection(f):a.default.removeClass(f,u)}}catch(e){n=!0,o=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw o}}}},{key:"_changeDefaultAnimationTime",value:function(e){var t=this._getContentSections(),n=!0,i=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){r.value.style.transitionDuration=e/1e3+"s"}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}}},{key:"_toggle",value:function(e){a.default.hasClass(e,u)?this._hideSection(e):(!this.multipleSelection&&this.closeAll(e),this._showSection(e))}},{key:"_hideSection",value:function(e){a.default.removeClass(e,u),this._resetMaxHeightContentSection(e)}},{key:"_showSection",value:function(e){this.ajaxContent&&this._checkAjaxSection(e),a.default.addClass(e,u),this._setMaxHeightContentSectionToFull(e),this._isFunction(this.onOpen)&&this.onOpen()}},{key:"_setMaxHeightContentSectionToFull",value:function(e){e.nextElementSibling.style.maxHeight=e.nextElementSibling.scrollHeight+"px"}},{key:"_resetMaxHeightContentSection",value:function(e){e.nextElementSibling.style.maxHeight=0}},{key:"_checkAjaxSection",value:function(e){var t=this,n=this._getHeaderSections(),i=this._getIndexElement(n,e),o=!0,r=!1,a=void 0;try{for(var c,l=this.ajaxContent[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value;s.indexSection!==i||this._isAlreadyRead(n[i])||function(){var e=n[i],o=e.nextElementSibling;o.innerHTML=y,t._getAjaxData(s.url,function(r){t._putContentInElement(e,o,r),t._markAsRead(n[i])},function(){t._putContentInElement(e,o,A)})}()}}catch(e){r=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw a}}}},{key:"_putContentInElement",value:function(e,t,n){t.innerHTML=n,this._setMaxHeightContentSectionToFull(e)}},{key:"_isAlreadyRead",value:function(e){return e.getAttribute(v)}},{key:"_markAsRead",value:function(e){e.setAttribute(v,!0)}},{key:"_getIndexElement",value:function(e,t){return Array.prototype.indexOf.call(e,t)}},{key:"_getHeaderSections",value:function(){return this.OscappsAccordionElement.querySelectorAll(d)}},{key:"_getContentSections",value:function(){return this.OscappsAccordionElement.querySelectorAll(p)}},{key:"_getAjaxData",value:function(e,t,n){var i=this,o=new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){o.status>=200&&o.status<400?i._isFunction(t)&&t(o.responseText):i._isFunction(n)&&n()},o.onerror=function(){i._isFunction(n)&&n()},o.send()}},{key:"_isFunction",value:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._getElementSectionByIndex(e);return n&&(t||this.multipleSelection||this.closeAll(),this._showSection(n)),this}},{key:"openAll",value:function(){var e=this._getHeaderSections(),t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._showSection(a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}return this}},{key:"close",value:function(e){var t=this._getElementSectionByIndex(e);return t&&this._hideSection(t),this}},{key:"closeAll",value:function(){var e=this._getHeaderSections(),t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._hideSection(a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"isOpen",value:function(e){var t=this._getHeaderSections();return t[e]&&a.default.hasClass(t[e],u)}},{key:"toggle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isOpen(e)?this.close(e):this.open(e,t),this}},{key:"_getElementSectionByIndex",value:function(e){return this._getHeaderSections()[e]}}]),OscappsAccordion}();t.default=S},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(){function DomLib(){_classCallCheck(this,DomLib)}return o(DomLib,null,[{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"isDomElement",value:function(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e&&1===e.nodeType}}]),DomLib}();t.default=r},function(e,t){}]).default});